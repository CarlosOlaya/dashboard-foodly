/* ============================================================
   RESPONSIVE BREAKPOINTS
   Mobile-first with Bottom Navigation Pattern
   ============================================================ */

/* ── Tablet — Sidebar narrows ── */
@media (max-width: 1024px) {
    :root {
        --sidebar-width: 180px;
    }

    .app-content {
        padding: 24px 20px;
    }

    .page-title {
        font-size: 20px;
    }

    .detail-grid,
    .form-grid {
        grid-template-columns: 1fr 1fr;
        gap: 14px;
    }

    .col-md-3,
    .col-md-4 {
        flex: 0 0 50%;
        max-width: 50%;
    }
}

/* ════════════════════════════════════════════════════════════
   MOBILE — Bottom Navbar + Header
   ════════════════════════════════════════════════════════════ */
@media (max-width: 768px) {

    /* ── Hide desktop sidebar ── */
    .app-sidebar {
        transform: translateX(-100%);
        pointer-events: none;
        opacity: 0;
    }

    .app-main {
        margin-left: 0 !important;
    }

    .app-content {
        padding: 12px 16px;
        padding-bottom: calc(var(--bottom-nav-height) + var(--safe-area-bottom) + 12px);
    }

    /* ── Page Header — title moves to mobile header ── */
    .page-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
        margin-bottom: 10px;
    }

    /* Title and subtitle hidden — shown in mobile header instead */
    .page-title {
        display: none !important;
    }

    .page-subtitle {
        display: none !important;
    }

    /* ── Mesas — Tighter grid ── */
    .mesas-grid {
        grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
        gap: 8px;
    }

    .mesa-card {
        padding: 10px 8px;
    }

    .mesa-numero {
        font-size: 20px;
    }

    .mesa-estado {
        font-size: 8px;
        padding: 1px 6px;
    }

    /* ── Stat cards — Horizontal scroll on mobile ── */
    .mesa-stats {
        display: flex;
        gap: 8px;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        padding-bottom: 4px;
    }

    .mesa-stats::-webkit-scrollbar {
        display: none;
    }

    .mesa-stats .stat-card {
        min-width: 90px;
        flex-shrink: 0;
        padding: 8px 12px;
    }

    .stat-value {
        font-size: 22px;
    }

    /* ── Detail / Form grids — Stack ── */
    .detail-grid,
    .form-grid {
        grid-template-columns: 1fr;
    }

    /* ── Tables — Contained scroll on mobile ── */
    .table-dark-glass,
    .card-glass,
    .card-body-custom {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        max-width: 100%;
    }

    table,
    .table-dark-glass table,
    mat-table,
    .mat-mdc-table {
        min-width: 520px;
    }

    .table-dark-glass th,
    .table-dark-glass td,
    .mat-mdc-header-cell,
    .mat-mdc-cell {
        padding: 8px 10px;
        font-size: 12px;
        white-space: nowrap;
    }

    /* ── Cards — Full width ── */
    .card-glass {
        border-radius: var(--radius-md);
    }

    .card-header-custom {
        padding: 16px;
    }

    .card-body-custom {
        padding: 12px 16px;
    }

    /* ── Buttons — Touch-friendly ── */
    .btn-neon,
    .btn-ghost,
    .btn-danger,
    .btn-violet {
        padding: 10px 18px;
        font-size: 13px;
        min-height: 44px;
    }

    /* ── Legacy grid — Stack on mobile ── */
    .col-md-3,
    .col-md-4,
    .col-md-6,
    .col-md-8 {
        flex: 0 0 100%;
        max-width: 100%;
    }

    .row {
        margin: 0 -8px;
    }

    .col,
    .col-md-3,
    .col-md-4,
    .col-md-6,
    .col-md-8 {
        padding: 0 8px;
    }

    /* ── Login card ── */
    .login-card {
        width: calc(100% - 32px);
        max-width: 440px;
        padding: 28px 24px;
    }

    /* ── SweetAlert ── */
    .swal2-popup {
        padding: 24px 20px !important;
        margin: 0 12px !important;
        max-width: calc(100vw - 24px) !important;
    }

    /* ── Search box ── */
    .search-box input {
        font-size: 16px;
        /* prevents iOS zoom on focus */
    }

    /* ── Form layout ── */
    .form-layout {
        max-width: 100%;
    }

    /* ── Toast notifications — full width on mobile ── */
    .toast-container {
        left: 12px;
        right: 12px;
        bottom: calc(var(--bottom-nav-height) + var(--safe-area-bottom) + 12px);
    }

    .toast-notification {
        min-width: unset;
        max-width: unset;
        width: 100%;
    }

    /* ── Turno warning — compact ── */
    .turno-warning {
        flex-wrap: wrap;
        padding: 12px 14px;
        gap: 10px;
    }

    .turno-warning .btn-neon {
        width: 100%;
    }
}

/* ── Small phones (≤400px) ── */
@media (max-width: 400px) {
    .app-content {
        padding: 10px 12px;
        padding-bottom: calc(var(--bottom-nav-height) + var(--safe-area-bottom) + 10px);
    }

    .mesas-grid {
        grid-template-columns: repeat(auto-fill, minmax(95px, 1fr));
        gap: 6px;
    }

    .mesa-numero {
        font-size: 18px;
    }

    .page-title {
        font-size: 18px;
    }
}